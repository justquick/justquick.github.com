<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Testing Your Tags &mdash; Django Native Tags v0.5 documentation</title>
    <link rel="stylesheet" href="sphinx_static/default.css" type="text/css" />
    <link rel="stylesheet" href="sphinx_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.5',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="sphinx_static/jquery.js"></script>
    <script type="text/javascript" src="sphinx_static/doctools.js"></script>
    <link rel="top" title="Django Native Tags v0.5 documentation" href="index.html" />
    <link rel="next" title="Contrib Add Ons" href="contrib/index.html" />
    <link rel="prev" title="Decorators" href="decorators.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="contrib/index.html" title="Contrib Add Ons"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="decorators.html" title="Decorators"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Django Native Tags v0.5 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="testing-your-tags">
<h1>Testing Your Tags<a class="headerlink" href="#testing-your-tags" title="Permalink to this headline">Â¶</a></h1>
<p>With native tags, the templatetag is simply just a function you define which
means that testing the underlying functionality of your templatetag does not
require going to your browser. Just pass in the appropriate arguments and test the output.
Here is an example of unittesting a native tag which demonstrates how trivial it can be:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># tests.py</span>
<span class="kn">from</span> <span class="nn">django.test</span> <span class="kn">import</span> <span class="n">TestCase</span>
<span class="kn">from</span> <span class="nn">native_tags</span> <span class="kn">import</span> <span class="n">function</span>

<span class="c"># Define or import your tags here</span>

<span class="nd">@function</span>
<span class="k">def</span> <span class="nf">adder</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>

<span class="k">class</span> <span class="nc">AdderTest</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">test_adder</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="n">adder</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>That is the full example above, but to add simple tests to a native function, you can use the
<tt class="docutils literal"><span class="pre">test</span></tt> attribute passing in the arguments and expected result of the function call.
Here is a shorter example that does the same thing as above:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">adder</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
<span class="n">adder</span> <span class="o">=</span> <span class="n">function</span><span class="p">(</span><span class="n">adder</span><span class="p">,</span> <span class="n">test</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;args&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="s">&#39;result&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>
</pre></div>
</div>
<p>Running <tt class="docutils literal"><span class="pre">./manage.py</span> <span class="pre">test</span> <span class="pre">native_tags</span></tt> will test the native_tag core as well as
any of your own test tags as defined like the above example.</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="decorators.html"
                                  title="previous chapter">Decorators</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="contrib/index.html"
                                  title="next chapter">Contrib Add Ons</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="sphinx_sources/testing.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="modindex.html" title="Global Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="contrib/index.html" title="Contrib Add Ons"
             >next</a> |</li>
        <li class="right" >
          <a href="decorators.html" title="Decorators"
             >previous</a> |</li>
        <li><a href="index.html">Django Native Tags v0.5 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2010, Justin Quick &lt;justquick@gmail.com&gt;.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.3.
    </div>
  </body>
</html>